<link rel="import" href="elements.html">

<dom-module id="uqlibrary-borrowing-list">
  <!-- All element styles -->
  <style is="custom-style" include="iron-flex iron-flex-alignment common-styles">
    ul {
      list-style-type: none;
      padding:0;
    }
    .noItem {
      padding: 10px;
      @apply(--layout-horizontal);
      @apply(--layout-center-justified);
    }
    .line {
      @apply(--laytou-flex);
      @apply(--layout-horizontal);
    }
    .line1, .line2, .line3, .caption {
      font-family: "Roboto";
      font-weight: 400;
      line-height: 1.1em;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .line1, .line2 {
      color: rgba(0, 0, 0, 0.87);
    }
    .line3, .caption {
      color: rgba(0, 0, 0, 0.54);
      font-size:0.85714em;
    }
    .line1 {
      font-size: 1em;
    }
    .line2 {
      font-size: 0.85714em;
    }
    .date {
      @apply(--layout-vertical);
      width:60px;
      padding: 12px;
    }

    .attentionIcon {
      position: absolute;
      bottom: 4px;
      right: 4px;
      padding-left: 16px;
      height: 32px;
      overflow: hidden;
      width: 100%;
    }

    paper-icon {
      width: 24px;
      height: 24px;
    }

    .description {
      background-color:#eee;
      padding:16px;
      cursor:pointer;
    }
    .title {
      color:#7B0C9D;
    }
  </style>

  <!-- Template -->
  <template>
    <div class="noItem caption" hidden$="{{!isEmpty}}">
      {{ emptyMessage }}
    </div>

    <ul class="timeline three-line-icon-list">
      <li class="gap"></li>
      <template is="dom-repeat" items="{{processedItems}}">
        <template is="dom-if" if="{{!item.isDivider}}">
          <li class="{{item.class}}">
            <div class="line">
              <div class="date">
                <div class="caption">{{item.dayPrefixText}}</div>
                <div class="title">{{item.day}}</div>
                <div class="caption">{{item.daySuffixText}}</div>
              </div>
              <div class="description flex" on-tap="_itemSelected" id="item-{{item.id}}">
                <div class="line1"><a href="{{item.url}}">{{item.title}}</a></div>
                <div class="line2">{{item.subtitle}}</div>
                <div class="line3 caption">{{item.secondaryText}}</div>
              </div>
            </div>
            <div class="layout vertical">
              <template repeat="{{action in item.actions}}">
                <paper-button class="actionButton" raised="" href="{{action.url}}">{{action.title}}</paper-button>
              </template>
            </div>
            <template is="dom-if" if="{{!item.attentionIcon.icon}}">
              <div class="attentionIcon {{item.attentionIcon.type}} layout horizontal end">
                <div class="tooltip caption inverse" flex>{{item.attentionIcon.text}}</div>
                <iron-icon class="caption inverse end-justified" icon="{{item.attentionIcon.icon}}"></iron-icon>
              </div>
            </template>
          </li>
        </template>
        <template is="dom-if" if="{{item.isDivider}}">
          <p class="timeline-divider">&nbsp;</p>
        </template>
      </template>
    </ul>
  </template>

  <!-- Location of the script -->
  <script src="../scripts/uqlibrary-borrowing-list.js"></script>
</dom-module>
